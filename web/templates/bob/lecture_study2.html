{% extends "bob/header.html" %}





{% block content %}


{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'web/css/lecture_study.css' %}">



<div class="coulmn">
  <div class="coulmn_item1">
    
  <div class="cardg">
    <div class="contentg">
      <!-- 사진이 들어간는 곳 -->


      <link rel="stylesheet" type="text/css" href="{% static 'web/lecture2/'|add:file|add:'.css' %}">


      <img src="{% static 'web/lecture2/'|add:file|add:'.png' %}">
    </div>
  </div>
  

  </div>



  <div class="coulmn_item2">

    <div class="card2">
      <div class="contentg">
 
        <div id="loaded-content"></div>


      </div>





      <!-- 버튼 -->
      <div class="button-container">
<!-- Django 템플릿 -->
<button id="previous-button">전장으로</button>
<button id="next-button">다음장으로</button>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // "전장으로" 버튼에 클릭 이벤트 리스너를 추가합니다.
    document.querySelector('#previous-button').addEventListener('click', moveToPrevious);

    // "다음장으로" 버튼에 클릭 이벤트 리스너를 추가합니다.
    document.querySelector('#next-button').addEventListener('click', moveToNext);

    function moveToPrevious() {
        // 현재 페이지의 URL을 가져옵니다.
        let currentUrl = window.location.href;

        // URL에서 "table"과 "value" 매개변수를 추출하고 현재 값을 얻습니다.
        let url = new URL(currentUrl);
        let currentTable = url.searchParams.get("table");
        let currentValue = parseInt(url.searchParams.get("page"));

        // 값이 없을 경우 기본값을 설정할 수 있습니다.
        if (isNaN(currentValue)) {
            currentValue = 0;
        }

        // 현재 값이 -1 미만이면 "첫 페이지 입니다" 메시지를 표시하고 더 이상 진행하지 않습니다.
        if (currentValue <= 1) {
            alert("첫 페이지 입니다");
            return;
        }

        // 값을 감소시킵니다.
        let newValue = currentValue - 1;

        // 새로운 URL을 만듭니다.
        let newUrl = `${url.pathname}?table=${currentTable}&page=${newValue}`;

        // 새 URL로 이동합니다.
        window.location.href = newUrl;
    }

    function moveToNext() {
        // 현재 페이지의 URL을 가져옵니다.
        let currentUrl = window.location.href;

        // URL에서 "table"과 "value" 매개변수를 추출하고 현재 값을 얻습니다.
        let url = new URL(currentUrl);
        let currentTable = url.searchParams.get("table");
        let currentValue = parseInt(url.searchParams.get("page"));

        // 값이 없을 경우 기본값을 설정할 수 있습니다.
        if (isNaN(currentValue)) {
            currentValue = 0;
        }

        // 값을 증가시킵니다.
        let newValue = currentValue + 1;

        // 새로운 URL을 만듭니다.
        let newUrl = `${url.pathname}?table=${currentTable}&page=${newValue}`;

        // 새 URL로 이동합니다.
        window.location.href = newUrl;
    }
});
</script>



<script>
  // JavaScript를 사용하여 다른 HTML 파일을 로드하고 추가합니다.
  function loadAndIncludeHTML() {
      // 다른 HTML 파일의 경로를 지정합니다.
      var htmlFilePath = "{% static 'web/lecture2/'|add:file|add:'.html' %}";

      // XMLHttpRequest 객체를 사용하여 HTML 파일을 비동기적으로 로드합니다.
      var xhr = new XMLHttpRequest();
      xhr.open("GET", htmlFilePath, true);

      xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
              // 로드된 HTML 내용을 가져와서 원하는 위치에 추가합니다.
              document.getElementById("loaded-content").innerHTML = xhr.responseText;
          }
      };

      xhr.send();
  }

  // 페이지 로드 시 다른 HTML 파일을 로드하고 추가합니다.
  window.addEventListener("load", loadAndIncludeHTML);
</script>

      </div>

    </div>


    
  </div>


</div>

{% endblock %}